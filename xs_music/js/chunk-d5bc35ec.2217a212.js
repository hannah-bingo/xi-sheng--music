(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5bc35ec"],{"319b":function(i,t,n){"use strict";n("a541")},a541:function(i,t,n){},d81d:function(i,t,n){"use strict";var s=n("23e7"),e=n("b727").map,a=n("1dde"),r=a("map");s({target:"Array",proto:!0,forced:!r},{map:function(i){return e(this,i,arguments.length>1?arguments[1]:void 0)}})},de34:function(i,t,n){"use strict";n.r(t);var s=function(){var i=this,t=i.$createElement,s=i._self._c||t;return i.info?s("div",{staticClass:"song-container"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"song-sidebar"},[s("div",{staticClass:"sidebar"},[s("div",{staticClass:"cover"},[s("div",{staticClass:"cover-img",class:[i.isCurSong?"active":""],on:{click:function(t){return t.stopPropagation(),i.playing(i.info)}}},[s("img",{staticClass:"cover-stylus",attrs:{src:n("ea02"),alt:""}}),s("el-image",{attrs:{src:i.info.album.picUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"simi-song"},[s("h6",[i._v("相似歌曲")]),s("div",{staticClass:"simi-main"},i._l(i.simiSong,(function(t){return s("div",{key:t.id,staticClass:"simi-item"},[s("div",{staticClass:"simi-info"},[s("router-link",{staticClass:"simi-name",attrs:{to:{path:"/song",query:{id:t.id}}}},[i._v(" "+i._s(t.name)+" ")]),s("div",{staticClass:"simi-author"},i._l(t.singer,(function(t,n){return s("router-link",{key:t.name,staticClass:"song-author",attrs:{to:{path:"/artist/Singer",query:{id:t.id}}}},[i._v(" "+i._s(0!==n?" / "+t.name:t.name)+" ")])})),1)],1),s("div",{staticClass:"simi-song-status"},[t.vip?s("i",{staticClass:"iconfont icon-vip"}):s("i",{class:["iconfont",i.playSimiIcon(t)],on:{click:function(n){return i.playing(t)}}})])])})),0)])])])]),s("div",{staticClass:"song-main"},[s("h3",{staticClass:"song-name"},[i._v(" "+i._s(i.info.name)+" "),i.info.mvId?s("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:i.info.mvId}}}},[s("i",{staticClass:"iconfont icon-video"})]):i._e(),i.info.vip?s("i",{staticClass:"iconfont icon-vip"}):i._e(),i.isCurSong?s("div",{staticClass:"audio-icon"},[s("div",{staticClass:"column",staticStyle:{"animation-delay":"-1.2s"}}),s("div",{staticClass:"column"}),s("div",{staticClass:"column",staticStyle:{"animation-delay":"-1.5s"}}),s("div",{staticClass:"column",staticStyle:{"animation-delay":"-0.9s"}}),s("div",{staticClass:"column",staticStyle:{"animation-delay":"-0.6s"}})]):i._e()],1),s("p",i._l(i.info.singer,(function(t,n){return s("router-link",{key:t.name,staticClass:"song-author",attrs:{to:{path:"/artist/singer",query:{id:t.id}}}},[i._v(i._s(0!==n?"/"+t.name:t.name))])})),1),s("p",{staticClass:"song-info"},[s("span",[i._v("专辑："),s("router-link",{staticClass:"song-album",attrs:{to:{path:"/album",query:{id:i.info.album.id}}}},[i._v(i._s(i.info.album.name))])],1),s("span",[i._v("发行时间："),s("em",[i._v(i._s(i.info.publishTime))])])]),s("div",{staticClass:"song-oper"},[s("span",{class:["play-btn",i.songDisable],on:{click:function(t){return i.playing(i.info)}}},[s("i",{class:["iconfont",i.playFontIcon]}),i._v(" "+i._s(i.info.vip?"VIP尊享":"立即播放")+" ")])]),s("div",{staticClass:"song-lyric"},[s("Lyrics",{attrs:{sId:i.sId,local:"page",currentTime:i.currentTime}})],1),s("div",{staticStyle:{height:"300px"}})])])]):i._e()},e=[],a=n("1da1"),r=n("5530"),o=(n("d81d"),n("b0c0"),n("96cf"),n("eb4d")),c=n("2f62"),u=n("7228"),l={components:{Lyrics:u["a"]},created:function(){},data:function(){return{info:null,sId:"0",simiSong:[],currentTime:0}},mounted:function(){var i=this;this.sId=String(this.$route.query.id),this.$bus.$on("currTime",(function(t){i.currentTime=t})),this.init(),window.addEventListener("scroll",this.handleScroll,!0)},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["isLogin","playList","playIndex","isPlayed"])),{},{isCurSong:function(){return this.isPlayed&&this.curSongInfo&&this.curSongInfo.id===this.sId},playSimiIcon:function(){return function(i){return String(i.id)===this.curSongInfo.id&&this.isPlayed?"icon-audio-pause":"icon-audio-play"}},curSongInfo:function(){return this.playList[this.playIndex]},songDisable:function(){return this.info.license||this.info.vip?"disable":""},playFontIcon:function(){return this.isCurSong?"icon-audio-pause":" icon-audio-play"}}),methods:Object(r["a"])(Object(r["a"])({},Object(c["d"])({setLoginDialog:"setLoginDialog",setPlayStatus:"SET_PLAYSTATUS",setPlayList:"SET_PLAYLIST",setPlayIndex:"SET_PLAYINDEX"})),{},{playing:function(i){if(this.curSongInfo&&this.curSongInfo.id===i.id)this.setPlayStatus(!this.isPlayed);else{if(i.license)return void this.$msg.error("由于版权保护，您所在的地区暂时无法使用。");if(i.vip)return void this.$msg.error("付费歌曲，请在网易云播放");this.selectPlay({list:[i]})}},getSongDetail:function(){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.$http.songDetail({ids:i.sId,timestamp:(new Date).valueOf()});case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",i.$msg.error("数据请求失败"));case 6:s.songs[0].license=!s.privileges[0].cp,i.info=Object(o["a"])(s.songs[0]);case 8:case"end":return t.stop()}}),t)})))()},getSimiSong:function(){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.$http.simiSong({id:i.sId});case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",i.$msg.error("数据请求失败"));case 6:console.log(s),i.simiSong=s.songs.map((function(t){return console.log(String(t.id)),{id:String(t.id),name:t.name,mvId:t.mvid,singer:t.artists,album:t.album,alia:t.alias,duration:i.$utils.formatSongTime(t.duration),url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),vip:1===t.fee,license:t.license,publishTime:t.publishTime}}));case 8:case"end":return t.stop()}}),t)})))()},init:function(){this.getSimiSong(),this.getSongDetail()}},Object(c["b"])(["selectPlay"])),watch:{$route:{handler:function(){this.sId=this.$route.query.id,console.log(this.sId+"208"),this.init()},deep:!0}}},d=l,A=(n("319b"),n("2877")),f=Object(A["a"])(d,s,e,!1,null,"1a6c101b",null);t["default"]=f.exports},ea02:function(i,t){i.exports="data:image/png;base64,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"},eb4d:function(i,t,n){"use strict";function s(i,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function e(i,t,n){return t&&s(i.prototype,t),n&&s(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}function a(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return c}));n("b0c0");var r=n("fa7d"),o=e((function i(t){var n=t.id,s=t.name,e=t.mvId,r=t.singer,o=t.album,c=t.alia,u=t.duration,l=t.url,d=t.vip,A=t.license,f=t.publishTime;a(this,i),this.id=n,this.name=s,this.mvId=e,this.singer=r,this.album=o,this.alia=c,this.duration=u,this.url=l,this.vip=d,this.license=A,this.publishTime=f}));function c(i){return new o({id:String(i.id),name:i.name,mvId:i.mv,singer:i.ar,album:i.al,alia:i.alia,vip:1===i.fee,license:i.license,duration:r["a"].formatSongTime(i.dt),url:"https://music.163.com/song/media/outer/url?id=".concat(i.id,".mp3"),publishTime:r["a"].formatMsgTime(i.publishTime)})}}}]);
//# sourceMappingURL=chunk-d5bc35ec.2217a212.js.map