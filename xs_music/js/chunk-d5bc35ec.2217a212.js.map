{"version":3,"sources":["webpack:///./src/views/song/Song.vue?a59e","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/song/Song.vue?d250","webpack:///src/views/song/Song.vue","webpack:///./src/views/song/Song.vue?c3c4","webpack:///./src/views/song/Song.vue","webpack:///./src/assets/img/stylus.png","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./src/utils/song.js"],"names":["$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","class","isCurSong","on","$event","stopPropagation","playing","info","attrs","album","picUrl","slot","_v","_l","simiItem","key","id","path","query","_s","name","author","k","playSimiIcon","mvId","_e","staticStyle","publishTime","songDisable","playFontIcon","vip","sId","currentTime","staticRenderFns","components","Lyrics","created","data","simiSong","mounted","$bus","$on","init","window","computed","mapGetters","isPlayed","curSongInfo","item","String","playList","playIndex","methods","mapMutations","setLoginDialog","setPlayStatus","setPlayList","setPlayIndex","params","license","$msg","error","selectPlay","list","getSongDetail","ids","timestamp","res","getSimiSong","console","singer","alia","duration","url","mapActions","watch","$route","handler","deep","component","module","exports","_defineProperties","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","Song","formatSongInfo","mv","ar","al","fee","utils","formatSongTime","dt","formatMsgTime"],"mappings":"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","file":"js/chunk-d5bc35ec.2217a212.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Song.vue?vue&type=style&index=0&id=1a6c101b&scoped=true&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('div',{staticClass:\"song-container\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"song-sidebar\"},[_c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"cover\"},[_c('div',{staticClass:\"cover-img\",class:[_vm.isCurSong ? 'active' : ''],on:{\"click\":function($event){$event.stopPropagation();return _vm.playing(_vm.info)}}},[_c('img',{staticClass:\"cover-stylus\",attrs:{\"src\":require(\"@/assets/img/stylus.png\"),\"alt\":\"\"}}),_c('el-image',{attrs:{\"src\":_vm.info.album.picUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1),_c('div',{staticClass:\"simi-song\"},[_c('h6',[_vm._v(\"相似歌曲\")]),_c('div',{staticClass:\"simi-main\"},_vm._l((_vm.simiSong),function(simiItem){return _c('div',{key:simiItem.id,staticClass:\"simi-item\"},[_c('div',{staticClass:\"simi-info\"},[_c('router-link',{staticClass:\"simi-name\",attrs:{\"to\":{ path: '/song', query: { id: simiItem.id }}}},[_vm._v(\" \"+_vm._s(simiItem.name)+\" \")]),_c('div',{staticClass:\"simi-author\"},_vm._l((simiItem.singer),function(author,k){return _c('router-link',{key:author.name,staticClass:\"song-author\",attrs:{\"to\":{ path: '/artist/Singer', query: { id: author.id } }}},[_vm._v(\" \"+_vm._s(k !== 0 ? ' / ' + author.name : author.name)+\" \")])}),1)],1),_c('div',{staticClass:\"simi-song-status\"},[(simiItem.vip)?_c('i',{staticClass:\"iconfont icon-vip\"}):_c('i',{class:['iconfont', _vm.playSimiIcon(simiItem)],on:{\"click\":function($event){return _vm.playing(simiItem)}}})])])}),0)])])])]),_c('div',{staticClass:\"song-main\"},[_c('h3',{staticClass:\"song-name\"},[_vm._v(\" \"+_vm._s(_vm.info.name)+\" \"),(_vm.info.mvId)?_c('router-link',{staticClass:\"mv-name\",attrs:{\"to\":{ path: '/mv', query: { id: _vm.info.mvId }}}},[_c('i',{staticClass:\"iconfont icon-video\"})]):_vm._e(),(_vm.info.vip)?_c('i',{staticClass:\"iconfont icon-vip\"}):_vm._e(),(_vm.isCurSong)?_c('div',{staticClass:\"audio-icon\"},[_c('div',{staticClass:\"column\",staticStyle:{\"animation-delay\":\"-1.2s\"}}),_c('div',{staticClass:\"column\"}),_c('div',{staticClass:\"column\",staticStyle:{\"animation-delay\":\"-1.5s\"}}),_c('div',{staticClass:\"column\",staticStyle:{\"animation-delay\":\"-0.9s\"}}),_c('div',{staticClass:\"column\",staticStyle:{\"animation-delay\":\"-0.6s\"}})]):_vm._e()],1),_c('p',_vm._l((_vm.info.singer),function(author,k){return _c('router-link',{key:author.name,staticClass:\"song-author\",attrs:{\"to\":{ path: '/artist/singer', query: { id: author.id } }}},[_vm._v(_vm._s(k !== 0 ? '/' + author.name : author.name))])}),1),_c('p',{staticClass:\"song-info\"},[_c('span',[_vm._v(\"专辑：\"),_c('router-link',{staticClass:\"song-album\",attrs:{\"to\":{ path: '/album', query: { id: _vm.info.album.id } }}},[_vm._v(_vm._s(_vm.info.album.name))])],1),_c('span',[_vm._v(\"发行时间：\"),_c('em',[_vm._v(_vm._s(_vm.info.publishTime))])])]),_c('div',{staticClass:\"song-oper\"},[_c('span',{class:['play-btn',_vm.songDisable],on:{\"click\":function($event){return _vm.playing(_vm.info)}}},[_c('i',{class:['iconfont', _vm.playFontIcon]}),_vm._v(\" \"+_vm._s(_vm.info.vip ? 'VIP尊享' : '立即播放')+\" \")])]),_c('div',{staticClass:\"song-lyric\"},[_c('Lyrics',{attrs:{\"sId\":_vm.sId,\"local\":\"page\",\"currentTime\":_vm.currentTime}})],1),_c('div',{staticStyle:{\"height\":\"300px\"}})])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div v-if=\"info\" class=\"song-container\">\r\n      <div class=\"w1200\">\r\n        <!-- 左部唱片部分 -->\r\n        <div class=\"song-sidebar\">\r\n          <div class=\"sidebar\">\r\n            <div class=\"cover\">\r\n              <!-- 唱片转动部分 -->\r\n              <div class=\"cover-img\" :class=\"[isCurSong ? 'active' : '']\" @click.stop=\"playing(info)\">\r\n                <!-- 棍棍 -->\r\n                <img src=\"@/assets/img/stylus.png\" class=\"cover-stylus\" alt=\"\">\r\n                <!-- 圆盘 -->\r\n                <el-image :src=\"info.album.picUrl\">\r\n                  <div slot=\"placeholder\" class=\"image-slot\">\r\n                      <i class=\"iconfont icon-placeholder\"></i>\r\n                  </div>\r\n                </el-image>\r\n              </div>\r\n              <!-- 相似歌曲部分 -->\r\n              <div class=\"simi-song\">\r\n                <h6>相似歌曲</h6>\r\n                <div class=\"simi-main\">\r\n                  <div class=\"simi-item\" v-for=\"simiItem in simiSong\" :key=\"simiItem.id\">\r\n                    <div class=\"simi-info\">\r\n                      <router-link class=\"simi-name\" :to=\"{ path: '/song', query: { id: simiItem.id }}\">\r\n                       {{ simiItem.name }}\r\n                      </router-link>\r\n                      <div class=\"simi-author\">\r\n                        <router-link :to=\"{ path: '/artist/Singer', query: { id: author.id } }\" class=\"song-author\" v-for=\"(author, k) in simiItem.singer\" :key=\"author.name\">\r\n                          {{ k !== 0 ? ' / ' + author.name : author.name}}\r\n                        </router-link>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"simi-song-status\">\r\n                      <i v-if=\"simiItem.vip\" class=\"iconfont icon-vip\"></i>\r\n                      <i v-else @click=\"playing(simiItem)\" :class=\"['iconfont', playSimiIcon(simiItem)]\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 右边歌词+评论 -->\r\n        <div class=\"song-main\">\r\n          <h3 class=\"song-name\">\r\n            {{info.name}}\r\n            <router-link class=\"mv-name\" :to=\"{ path: '/mv', query: { id: info.mvId }}\" v-if=\"info.mvId\">\r\n              <i class=\"iconfont icon-video\"></i>\r\n            </router-link>\r\n            <i v-if=\"info.vip\" class=\"iconfont icon-vip\"></i>\r\n            <div class=\"audio-icon\" v-if=\"isCurSong\">\r\n              <div class=\"column\" style=\"animation-delay: -1.2s;\"></div>\r\n              <div class=\"column\"></div>\r\n              <div class=\"column\" style=\"animation-delay: -1.5s;\"></div>\r\n              <div class=\"column\" style=\"animation-delay: -0.9s;\"></div>\r\n              <div class=\"column\" style=\"animation-delay: -0.6s;\"></div>\r\n            </div>\r\n          </h3>\r\n          <p><router-link :to=\"{ path: '/artist/singer', query: { id: author.id } }\" class=\"song-author\" v-for=\"(author, k) in info.singer\" :key=\"author.name\">{{ k !== 0 ? '/' + author.name : author.name }}</router-link></p>\r\n          <p class=\"song-info\">\r\n            <span>专辑：<router-link class=\"song-album\" :to=\"{ path: '/album', query: { id: info.album.id } }\">{{ info.album.name }}</router-link></span>\r\n            <span>发行时间：<em>{{ info.publishTime }}</em></span>\r\n          </p>\r\n          <!-- 播放歌曲改行样式 -->\r\n          <div class=\"song-oper\">\r\n            <!-- 歌曲标题 -->\r\n            <span :class=\"['play-btn',songDisable]\" @click=\"playing(info)\">\r\n              <i :class=\"['iconfont', playFontIcon]\"></i>\r\n              {{info.vip ? 'VIP尊享' : '立即播放'}}\r\n            </span>\r\n          </div>\r\n          <div class=\"song-lyric\">\r\n            <Lyrics :sId=\"sId\" local=\"page\" :currentTime=\"currentTime\"></Lyrics>\r\n          </div>\r\n          <div style=\"height:300px;\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { formatSongInfo } from '@/utils/song'\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport Lyrics from '@components/common/Play-bar-Lyrics.vue'\r\nexport default {\r\n  components: {\r\n    Lyrics\r\n  },\r\n  created () {\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      info: null,\r\n      sId: '0',\r\n      simiSong: [],\r\n      currentTime: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.sId =  String(this.$route.query.id)\r\n    // console.log('我是Song组件，收到currentTime');\r\n    this.$bus.$on('currTime',(data) => {\r\n      // console.log('我是Song组件，收到currentTime', data);\r\n      this.currentTime = data\r\n    })\r\n    // console.log(this.sId+'96');\r\n    this.init()\r\n    window.addEventListener('scroll', this.handleScroll, true)\r\n  },\r\n  // 监听属性类似于data概念\r\n  computed: {\r\n    ...mapGetters(['isLogin', 'playList', 'playIndex', 'isPlayed']),\r\n    isCurSong () {\r\n      // console.log(this.isPlayed);\r\n      // console.log(this.curSongInfo);\r\n      // console.log(this.curSongInfo.id === this.sId);\r\n      return this.isPlayed && this.curSongInfo && this.curSongInfo.id === this.sId\r\n    },\r\n    // 相似歌曲播放时歌曲切换\r\n    playSimiIcon () {\r\n      return function (item) {\r\n        // console.log(item);\r\n        return String(item.id) === this.curSongInfo.id && this.isPlayed ? 'icon-audio-pause' : 'icon-audio-play'\r\n      }\r\n    },\r\n    curSongInfo () {\r\n      // console.log(this.playList[this.playIndex]); \r\n      return this.playList[this.playIndex]\r\n    },\r\n    // 若是无版权获取vip歌曲，播放按钮置灰\r\n    songDisable () {\r\n      // console.log(this.info.vip);\r\n      return (this.info.license || this.info.vip) ? 'disable' : ''\r\n    },\r\n    // 当前播放状态\r\n    playFontIcon () {\r\n      // console.log(this.isCurSong);\r\n      return this.isCurSong ? 'icon-audio-pause' :' icon-audio-play'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setLoginDialog: 'setLoginDialog',\r\n      setPlayStatus: 'SET_PLAYSTATUS',\r\n      setPlayList: 'SET_PLAYLIST',\r\n      setPlayIndex: 'SET_PLAYINDEX'\r\n    }),\r\n    playing (params) {\r\n      // 当前页无歌曲 或 当前播放歌曲不是本页显示的歌曲，立即播放当前页面歌曲\r\n      if (!this.curSongInfo || this.curSongInfo.id !== params.id) {\r\n        // 无版权及vip不可播放\r\n        if (params.license) {\r\n          this.$msg.error('由于版权保护，您所在的地区暂时无法使用。')\r\n          return \r\n        }\r\n        if (params.vip) {\r\n          this.$msg.error('付费歌曲，请在网易云播放')\r\n          return\r\n        }\r\n\r\n        this.selectPlay({\r\n          list: [params]\r\n        })\r\n      } else {\r\n        this.setPlayStatus(!this.isPlayed)\r\n      }\r\n    },\r\n    // -------------网络请求---------------\r\n    async getSongDetail () {\r\n      const { data: res } = await this.$http.songDetail({ ids: this.sId, timestamp: new Date().valueOf() })\r\n\r\n      if (res.code !== 200) {\r\n        return this.$msg.error('数据请求失败')\r\n      }\r\n      // console.log(res);\r\n      // 是否有版权\r\n      res.songs[0].license = !res.privileges[0].cp\r\n      this.info  = formatSongInfo(res.songs[0])\r\n    },\r\n    async getSimiSong () {\r\n      const { data: res } = await this.$http.simiSong({ id: this.sId })\r\n      if (res.code !== 200) {\r\n        return this.$msg.error('数据请求失败');\r\n      }\r\n      console.log(res);\r\n      this.simiSong = res.songs.map(item => {\r\n      \r\n        console.log(String(item.id));\r\n        return {\r\n          id: String(item.id),\r\n          name: item.name,\r\n          mvId: item.mvid,\r\n          singer: item.artists,\r\n          album: item.album,\r\n          alia: item.alias,\r\n          duration: this.$utils.formatSongTime(item.duration),\r\n          url: `https://music.163.com/song/media/outer/url?id=${item.id}.mp3`,\r\n          // url:item.mp3Url,\r\n          vip: item.fee === 1,\r\n          license: item.license,\r\n          publishTime: item.publishTime\r\n          // url: `https://music`\r\n\r\n        }\r\n      })\r\n    },\r\n  \r\n    init() {\r\n      this.getSimiSong()\r\n      this.getSongDetail()\r\n    },\r\n    ...mapActions(['selectPlay'])\r\n  },\r\n  // 点击 相似歌单时用到watch\r\n  watch: {\r\n    $route: {\r\n      handler () {\r\n        this.sId = this.$route.query.id\r\n        console.log(this.sId+'208');\r\n        this.init()\r\n      },\r\n      // 深度监听，常用于对象下面的属性变化\r\n      deep: true\r\n    }\r\n  }\r\n\r\n  \r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.song-container {\r\n  padding: 40px 0;\r\n  .song-sidebar {\r\n    position: fixed;\r\n    width: 310px;\r\n    height: 300px;\r\n    // background-color: red;\r\n    .cover {\r\n      position: relative;\r\n      // 唱片转动部分\r\n      .cover-img{\r\n        position: relative;\r\n        width: 190px;\r\n        padding: 40px;\r\n        font-size: 0;\r\n        background: url('../../assets/img/disc.png') no-repeat;\r\n        background-size: contain;\r\n        cursor: pointer;\r\n\r\n        .cover-stylus {\r\n            position: absolute;\r\n            right: 0;\r\n            top: 0;\r\n            z-index: 1;\r\n            display: inline-block;\r\n            width: 30px;\r\n            height: 120px;\r\n            transition: all .3s;\r\n            transform-origin: 23px 5px;\r\n            transform: rotateZ(-30deg);\r\n        }\r\n        .el-image {\r\n          width: 190px;\r\n          height: 190px;\r\n          border-radius: 100%;\r\n          animation: soundPaying 15s linear infinite;\r\n          animation-play-state: paused;\r\n        }\r\n        &.active {\r\n          .cover-stylus {\r\n            transform: rotateZ(0);\r\n          }\r\n          .el-image {\r\n            animation-play-state: running;\r\n          }\r\n        }\r\n      }\r\n      // 相似歌曲部分\r\n      .simi-song {\r\n        h6 {\r\n            margin-top: 20px;\r\n            margin-bottom: 10px;\r\n            font-size: 14px;\r\n            height: 30px;\r\n            line-height: 30px;\r\n        }\r\n        .simi-name {\r\n            line-height: 20px;\r\n            font-size: 12px;\r\n            color: #000;\r\n        }\r\n\r\n        .simi-author {\r\n            font-size: 0;\r\n\r\n            a {\r\n                font-size: 12px;\r\n                color: #999;\r\n            }\r\n        }\r\n\r\n        .simi-item {\r\n            display: flex;\r\n            padding-top: 5px;\r\n            border-bottom: 1px solid #f2f2f2;\r\n            margin-bottom: 5px;\r\n        }\r\n\r\n        .simi-info {\r\n            flex: 1;\r\n        }\r\n\r\n        .simi-song-status {\r\n            line-height: 48px;\r\n\r\n            i {\r\n                cursor: pointer;\r\n            }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .song-main {\r\n    position: relative;\r\n    margin-left: 400px;\r\n    height: 300px;\r\n    // background-color: red;\r\n    .song-name {\r\n        font-size: 30px;\r\n        line-height: 60px;\r\n        padding-bottom: 10px;\r\n\r\n        .iconfont {\r\n            margin-right: 10px;\r\n            font-size: 24px;\r\n            color: #ff641e;\r\n        }\r\n\r\n        .audio-icon {\r\n            display: inline-flex;\r\n                  }\r\n    }\r\n    // 作曲者\r\n    .song-author {\r\n      display: inline-block;\r\n      font-size: 18px;\r\n      color: #666;\r\n      line-height: 18px;\r\n    }\r\n    .song-lyric {\r\n    margin: 30px 0 10px;\r\n    overflow-y: auto;\r\n    }\r\n    .song-info {\r\n      padding: 20px 0;\r\n      font-size: 0;\r\n      color: #999;\r\n\r\n      span {\r\n          display: inline-block;\r\n          padding-right: 30px;\r\n          font-size: 14px;\r\n          font-weight: 400;\r\n          line-height: 20px;\r\n      }\r\n\r\n      a, em {\r\n          color: #333;\r\n          font-style: normal;\r\n      }\r\n    }\r\n\r\n    .song-oper {\r\n      .play-btn {\r\n        display: inline-block;\r\n        line-height: 16px;\r\n        align-items: center;\r\n        border-radius: 50px;\r\n        padding: 7px 15px;\r\n        cursor: pointer;\r\n        margin: 5px 15px 5px 0;\r\n        background: #f0f0f0;\r\n        color: #fff;\r\n        background: #ff641e;\r\n        i {\r\n            color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n@keyframes soundPaying {\r\n    from {\r\n        -webkit-transform: rotate(10deg);\r\n        transform: rotate(10deg)\r\n    }\r\n\r\n    to {\r\n        -webkit-transform: rotate(370deg);\r\n        transform: rotate(370deg)\r\n    }\r\n}\r\n\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Song.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Song.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Song.vue?vue&type=template&id=1a6c101b&scoped=true&\"\nimport script from \"./Song.vue?vue&type=script&lang=js&\"\nexport * from \"./Song.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Song.vue?vue&type=style&index=0&id=1a6c101b&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a6c101b\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAnBQTFRFAAAABgYGz8/P5ubm4eHh7Ozs9fX19fX17+/v4eHh5eXl4ODg5OTk4uLi9/f3/////f395+fn5OTkz8/P2dnZ2tra9/f39/f39fX13t7e5OTk3t7e4ODg7+/v7Ozs5OTk3Nzc09PT8PDw9PT08fHx3d3d4eHh+fn57+/v0tLS0dHR+vr62NjYra2tx8fH5+fnwcHBysrKAAAAycnJurq65eXl7+/vwcHBzMzMDQ0NSEhItra2wMDA4uLi5OTkzMzMzMzMtra21dXV6+vr7e3t3NzcwsLCgICAAAAAAAAAjY2N2tra4uLioKCgAAAA3t7e4+Pj4uLi5eXl4+Pj5eXl5eXl5ubm5+fn5eXl5ubm5eXl5eXl5ubm6urq4+Pj7Ozs6enp7Ozs5OTk8/Pz6+vr4eHh9/f37e3t5+fn7Ozs4eHh7Ozs7+/v5ubm4uLi7e3t4ODg8vLy7u7u4+Pj6urq4eHh7Ozs6enp7Ozs8PDw7Ozs4ODg////6+vr4+Pj4eHh4ODg7Ozs6urq7Ozs8PDw5eXl////39/f7e3t5OTk8PDw39/f7e3t6enp8/Pz7u7u39/f7e3t4eHh5+fn4eHh6+vr6+vr5ubm5ubmAAAA39/fAAAA1tbW4ODg2dnZAAAAxcXF1NTUzMzMIyMjz8/PWVlZAAAAAAAAn5+fvb29AAAAAAAAioqKAAAAAAAAra2tAAAAAAAAAAAAd3d3oaGhAAAAFBQUZ2dn19fXjIyMExMTz8/PzMzMn5+fIiIiUVFR8/Pz+fn5fn5+xcXFysrK3t7eAAAAzMzM0dHRyMjINzc3/Pz88vLybm5uFBQUHBwcxUxxVQAAANB0Uk5TAAIQeoGxytG4iYApYo3k//GedQoog9r//4pGTpv//2pdhf///3yy/81Jlv9oH4nKiz4EUY3L3phwBw6Ond7nrYJTvf//2WkaBgkmrtUzC4vCicCIv4e/v72Rt52quZfd/yj/GovfCef/hvgg8f+ot/ITWHflz5YuN/nL6AN0/FXArhhP/n4G2I0596bDaxXqx6b1RZHZcmfLArcFlv+2EJv/vR3TKAwWUnkYG14eIYMlFChpiCs0cv+SQv//rUtC5fFbkqTDL6Gegyr+0josNruqaPMAAALuSURBVHic7dfpU9NAFABwqkFQkfVC4pFog1IvsMaLw7urEu9bEJVaFKOIJ4oHaj3wAk9ArRFqUVOlUJtqqwjetyj8S26rMKO7G53hgzMO7+sv72Xf7ksmiYj4LQxdujJMZLeo6O5Mj54GTA0xTK9YgKJ3H6ZvP4z7M3EDAIhnkQ9kBmE8mBkCAMfzPADRcUOx2sOMkQAICQnDWRBlHEHgRABYlk0wgZEEHmUcDcAYlo0HINE4FuMkY/I4EI5Ys3E8xuKE5ImTQjp5SnJKKs5pKeb0qdOmz0g3z0wS8W0R02aZZ1vgHPPceRkkzpDmL+DhwkWLU0XCphpEUVrCw6VShmjAOOQGcRkPl4tIcQ77Ch6uNBA1fEWYyRaKVTxcTddO7uRO/ue8pgMMYaYOZ0F+rQ5nQ36dDq/nLBt0OEewxtB1I+RsuXTexPGb6Zq3hZN1br2V47flUzV/O1ewg568U7Du2k3VPRy07aWvq5CT99FL70frKqLqgYPQlk1PPiRYDxdT9QgHjx6jai5q2U4vfVyw7DpB1ZOnoK2EqqdzOOsZeumzqOVzVC06D22l9OQy1HIeVS+glukDdvESJ1+ml74iWK7SR6QctVxB1eJKwaoznNfQiNCPIqJSsOiMSD4vyOV0vs5zhXSNKOHhDR3O+tPbAOq9Df5ftljo7HBUyPJNxeEgqyLdqqqqlsiO1Hnb5apxIiex5LxT43LdvYecwIrqvo8+etkHtSopXVE9dWGudxLZ6a0TOE546NMknB2S5n8kFxTIjwO1BFbU+uCTpygagl5CdUXzPWtobGpqfP4i4MbTVc/LVz8+uF+/qcfX7vS+BT+j2qdhrPnftbE9gK9dC7Tz+w/4zX9hvLW/ZzupuP8jMAmhXxG0NAL7PgHWBoAFArsfZ6e3nTMJh6J6PrdxKeFIJe1LWbMJAFPz129ufFPRsHhbgq2twRZvLenEFFVze1C4NZUwjA40qZKKQpIU8qiiK1A4KI9BB+I7bn8y/mK7Kg0AAAAASUVORK5CYII=\"","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import utils from '@/utils/utils'\r\n\r\nexport default class Song {\r\n    constructor({\r\n        id,\r\n        name,\r\n        mvId,\r\n        singer,\r\n        album,\r\n        alia,\r\n        duration,\r\n        url,\r\n        vip,\r\n        license,\r\n        publishTime\r\n    }) {\r\n        this.id = id\r\n        this.name = name\r\n        this.mvId = mvId\r\n        this.singer = singer\r\n        this.album = album\r\n        this.alia = alia\r\n        this.duration = duration\r\n        this.url = url\r\n        this.vip = vip\r\n        this.license = license\r\n        this.publishTime = publishTime\r\n    }\r\n}\r\n\r\nexport function formatSongInfo(params) {\r\n    return new Song({\r\n        id: String(params.id),\r\n        name: params.name,\r\n        mvId: params.mv,\r\n        singer: params.ar,\r\n        album: params.al,\r\n        alia: params.alia,\r\n        vip: params.fee === 1,\r\n        license: params.license,\r\n        duration: utils.formatSongTime(params.dt),\r\n        url: `https://music.163.com/song/media/outer/url?id=${params.id}.mp3`,\r\n        publishTime: utils.formatMsgTime(params.publishTime)\r\n    })\r\n}"],"sourceRoot":""}